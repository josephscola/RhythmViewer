
<!DOCTYPE html>

<html>
  <head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" /><meta name="generator" content="Docutils 0.17.1: http://docutils.sourceforge.net/" />

    <title>Generic Build Instructions &#8212; My sample book</title>
    
  <!-- Loaded before other Sphinx assets -->
  <link href="../../../../../../../_static/styles/theme.css?digest=1999514e3f237ded88cf" rel="stylesheet">
<link href="../../../../../../../_static/styles/pydata-sphinx-theme.css?digest=1999514e3f237ded88cf" rel="stylesheet">

    
  <link rel="stylesheet"
    href="../../../../../../../_static/vendor/fontawesome/5.13.0/css/all.min.css">
  <link rel="preload" as="font" type="font/woff2" crossorigin
    href="../../../../../../../_static/vendor/fontawesome/5.13.0/webfonts/fa-solid-900.woff2">
  <link rel="preload" as="font" type="font/woff2" crossorigin
    href="../../../../../../../_static/vendor/fontawesome/5.13.0/webfonts/fa-brands-400.woff2">

    <link rel="stylesheet" type="text/css" href="../../../../../../../_static/pygments.css" />
    <link rel="stylesheet" href="../../../../../../../_static/styles/sphinx-book-theme.css?digest=5115cc725059bd94278eecd172e13a965bf8f5a9" type="text/css" />
    <link rel="stylesheet" type="text/css" href="../../../../../../../_static/togglebutton.css" />
    <link rel="stylesheet" type="text/css" href="../../../../../../../_static/copybutton.css" />
    <link rel="stylesheet" type="text/css" href="../../../../../../../_static/mystnb.css" />
    <link rel="stylesheet" type="text/css" href="../../../../../../../_static/sphinx-thebe.css" />
    <link rel="stylesheet" type="text/css" href="../../../../../../../_static/design-style.b7bb847fb20b106c3d81b95245e65545.min.css" />
    
  <!-- Pre-loaded scripts that we'll load fully later -->
  <link rel="preload" as="script" href="../../../../../../../_static/scripts/pydata-sphinx-theme.js?digest=1999514e3f237ded88cf">

    <script data-url_root="../../../../../../../" id="documentation_options" src="../../../../../../../_static/documentation_options.js"></script>
    <script src="../../../../../../../_static/jquery.js"></script>
    <script src="../../../../../../../_static/underscore.js"></script>
    <script src="../../../../../../../_static/doctools.js"></script>
    <script src="../../../../../../../_static/clipboard.min.js"></script>
    <script src="../../../../../../../_static/copybutton.js"></script>
    <script src="../../../../../../../_static/scripts/sphinx-book-theme.js?digest=9c920249402e914e316237a7dbc6769907cce411"></script>
    <script>let toggleHintShow = 'Click to show';</script>
    <script>let toggleHintHide = 'Click to hide';</script>
    <script>let toggleOpenOnPrint = 'true';</script>
    <script src="../../../../../../../_static/togglebutton.js"></script>
    <script>var togglebuttonSelector = '.toggle, .admonition.dropdown, .tag_hide_input div.cell_input, .tag_hide-input div.cell_input, .tag_hide_output div.cell_output, .tag_hide-output div.cell_output, .tag_hide_cell.cell, .tag_hide-cell.cell';</script>
    <script src="../../../../../../../_static/design-tabs.js"></script>
    <script>const THEBE_JS_URL = "https://unpkg.com/thebe@0.8.2/lib/index.js"
const thebe_selector = ".thebe,.cell"
const thebe_selector_input = "pre"
const thebe_selector_output = ".output, .cell_output"
</script>
    <script async="async" src="../../../../../../../_static/sphinx-thebe.js"></script>
    <link rel="index" title="Index" href="../../../../../../../genindex.html" />
    <link rel="search" title="Search" href="../../../../../../../search.html" />
    <meta name="viewport" content="width=device-width, initial-scale=1" />
    <meta name="docsearch:language" content="None">
    

    <!-- Google Analytics -->
    
  </head>
  <body data-spy="scroll" data-target="#bd-toc-nav" data-offset="60">
<!-- Checkboxes to toggle the left sidebar -->
<input type="checkbox" class="sidebar-toggle" name="__navigation" id="__navigation" aria-label="Toggle navigation sidebar">
<label class="overlay overlay-navbar" for="__navigation">
    <div class="visually-hidden">Toggle navigation sidebar</div>
</label>
<!-- Checkboxes to toggle the in-page toc -->
<input type="checkbox" class="sidebar-toggle" name="__page-toc" id="__page-toc" aria-label="Toggle in-page Table of Contents">
<label class="overlay overlay-pagetoc" for="__page-toc">
    <div class="visually-hidden">Toggle in-page Table of Contents</div>
</label>
<!-- Headers at the top -->
<div class="announcement header-item noprint"></div>
<div class="header header-item noprint"></div>

    
    <div class="container-fluid" id="banner"></div>

    

    <div class="container-xl">
      <div class="row">
          
<!-- Sidebar -->
<div class="bd-sidebar noprint" id="site-navigation">
    <div class="bd-sidebar__content">
        <div class="bd-sidebar__top"><div class="navbar-brand-box">
    <a class="navbar-brand text-wrap" href="../../../../../../../index.html">
      
        <!-- `logo` is deprecated in Sphinx 4.0, so remove this when we stop supporting 3 -->
        
      
      
      <img src="../../../../../../../_static/logo.png" class="logo" alt="logo">
      
      
      <h1 class="site-logo" id="site-title">My sample book</h1>
      
    </a>
</div><form class="bd-search d-flex align-items-center" action="../../../../../../../search.html" method="get">
  <i class="icon fas fa-search"></i>
  <input type="search" class="form-control" name="q" id="search-input" placeholder="Search this book..." aria-label="Search this book..." autocomplete="off" >
</form><nav class="bd-links" id="bd-docs-nav" aria-label="Main">
    <div class="bd-toc-item active">
        
        <ul class="nav bd-sidenav bd-sidenav__home-link">
            <li class="toctree-l1">
                <a class="reference internal" href="../../../../../../../intro.html">
                    Welcome to your Jupyter Book
                </a>
            </li>
        </ul>
        <ul class="nav bd-sidenav">
 <li class="toctree-l1">
  <a class="reference internal" href="../../../../../../../markdown.html">
   Markdown Files
  </a>
 </li>
 <li class="toctree-l1">
  <a class="reference internal" href="../../../../../../../notebooks.html">
   Content with notebooks
  </a>
 </li>
 <li class="toctree-l1">
  <a class="reference internal" href="../../../../../../../markdown-notebooks.html">
   Notebooks with MyST Markdown
  </a>
 </li>
</ul>

    </div>
</nav></div>
        <div class="bd-sidebar__bottom">
             <!-- To handle the deprecated key -->
            
            <div class="navbar_extra_footer">
            Powered by <a href="https://jupyterbook.org">Jupyter Book</a>
            </div>
            
        </div>
    </div>
    <div id="rtd-footer-container"></div>
</div>


          


          
<!-- A tiny helper pixel to detect if we've scrolled -->
<div class="sbt-scroll-pixel-helper"></div>
<!-- Main content -->
<div class="col py-0 content-container">
    
    <div class="header-article row sticky-top noprint">
        



<div class="col py-1 d-flex header-article-main">
    <div class="header-article__left">
        
        <label for="__navigation"
  class="headerbtn"
  data-toggle="tooltip"
data-placement="right"
title="Toggle navigation"
>
  

<span class="headerbtn__icon-container">
  <i class="fas fa-bars"></i>
  </span>

</label>

        
    </div>
    <div class="header-article__right">
<button onclick="toggleFullScreen()"
  class="headerbtn"
  data-toggle="tooltip"
data-placement="bottom"
title="Fullscreen mode"
>
  

<span class="headerbtn__icon-container">
  <i class="fas fa-expand"></i>
  </span>

</button>

<div class="menu-dropdown menu-dropdown-repository-buttons">
  <button class="headerbtn menu-dropdown__trigger"
      aria-label="Source repositories">
      <i class="fab fa-github"></i>
  </button>
  <div class="menu-dropdown__content">
    <ul>
      <li>
        <a href="https://github.com/executablebooks/jupyter-book"
   class="headerbtn"
   data-toggle="tooltip"
data-placement="left"
title="Source repository"
>
  

<span class="headerbtn__icon-container">
  <i class="fab fa-github"></i>
  </span>
<span class="headerbtn__text-container">repository</span>
</a>

      </li>
      
      <li>
        <a href="https://github.com/executablebooks/jupyter-book/issues/new?title=Issue%20on%20page%20%2Fenv/lib/python3.9/site-packages/mypyc/external/googletest/README.html&body=Your%20issue%20content%20here."
   class="headerbtn"
   data-toggle="tooltip"
data-placement="left"
title="Open an issue"
>
  

<span class="headerbtn__icon-container">
  <i class="fas fa-lightbulb"></i>
  </span>
<span class="headerbtn__text-container">open issue</span>
</a>

      </li>
      
    </ul>
  </div>
</div>

<div class="menu-dropdown menu-dropdown-download-buttons">
  <button class="headerbtn menu-dropdown__trigger"
      aria-label="Download this page">
      <i class="fas fa-download"></i>
  </button>
  <div class="menu-dropdown__content">
    <ul>
      <li>
        <a href="../../../../../../../_sources/env/lib/python3.9/site-packages/mypyc/external/googletest/README.md"
   class="headerbtn"
   data-toggle="tooltip"
data-placement="left"
title="Download source file"
>
  

<span class="headerbtn__icon-container">
  <i class="fas fa-file"></i>
  </span>
<span class="headerbtn__text-container">.md</span>
</a>

      </li>
      
      <li>
        
<button onclick="printPdf(this)"
  class="headerbtn"
  data-toggle="tooltip"
data-placement="left"
title="Print to PDF"
>
  

<span class="headerbtn__icon-container">
  <i class="fas fa-file-pdf"></i>
  </span>
<span class="headerbtn__text-container">.pdf</span>
</button>

      </li>
      
    </ul>
  </div>
</div>
<label for="__page-toc"
  class="headerbtn headerbtn-page-toc"
  
>
  

<span class="headerbtn__icon-container">
  <i class="fas fa-list"></i>
  </span>

</label>

    </div>
</div>

<!-- Table of contents -->
<div class="col-md-3 bd-toc show noprint">
    <div class="tocsection onthispage pt-5 pb-3">
        <i class="fas fa-list"></i> Contents
    </div>
    <nav id="bd-toc-nav" aria-label="Page">
        <ul class="visible nav section-nav flex-column">
 <li class="toc-h1 nav-item toc-entry">
  <a class="reference internal nav-link" href="#">
   Generic Build Instructions
  </a>
  <ul class="visible nav section-nav flex-column">
   <li class="toc-h2 nav-item toc-entry">
    <a class="reference internal nav-link" href="#setup">
     Setup
    </a>
   </li>
   <li class="toc-h2 nav-item toc-entry">
    <a class="reference internal nav-link" href="#build">
     Build
    </a>
   </li>
  </ul>
 </li>
 <li class="toc-h1 nav-item toc-entry">
  <a class="reference internal nav-link" href="#using-cmake">
   Using CMake
  </a>
 </li>
 <li class="toc-h1 nav-item toc-entry">
  <a class="reference internal nav-link" href="#legacy-build-scripts">
   Legacy Build Scripts
  </a>
 </li>
 <li class="toc-h1 nav-item toc-entry">
  <a class="reference internal nav-link" href="#tweaking-google-test">
   Tweaking Google Test
  </a>
 </li>
 <li class="toc-h1 nav-item toc-entry">
  <a class="reference internal nav-link" href="#choosing-a-tr1-tuple-library">
   Choosing a TR1 Tuple Library
  </a>
 </li>
 <li class="toc-h1 nav-item toc-entry">
  <a class="reference internal nav-link" href="#multi-threaded-tests">
   Multi-threaded Tests
  </a>
 </li>
 <li class="toc-h1 nav-item toc-entry">
  <a class="reference internal nav-link" href="#as-a-shared-library-dll">
   As a Shared Library (DLL)
  </a>
 </li>
 <li class="toc-h1 nav-item toc-entry">
  <a class="reference internal nav-link" href="#avoiding-macro-name-clashes">
   Avoiding Macro Name Clashes
  </a>
 </li>
 <li class="toc-h1 nav-item toc-entry">
  <a class="reference internal nav-link" href="#developing-google-test">
   Developing Google Test
  </a>
  <ul class="visible nav section-nav flex-column">
   <li class="toc-h2 nav-item toc-entry">
    <a class="reference internal nav-link" href="#testing-google-test-itself">
     Testing Google Test Itself
    </a>
   </li>
  </ul>
 </li>
</ul>

    </nav>
</div>
    </div>
    <div class="article row">
        <div class="col pl-md-3 pl-lg-5 content-container">
            <!-- Table of contents that is only displayed when printing the page -->
            <div id="jb-print-docs-body" class="onlyprint">
                <h1>Generic Build Instructions</h1>
                <!-- Table of contents -->
                <div id="print-main-content">
                    <div id="jb-print-toc">
                        
                        <div>
                            <h2> Contents </h2>
                        </div>
                        <nav aria-label="Page">
                            <ul class="visible nav section-nav flex-column">
 <li class="toc-h1 nav-item toc-entry">
  <a class="reference internal nav-link" href="#">
   Generic Build Instructions
  </a>
  <ul class="visible nav section-nav flex-column">
   <li class="toc-h2 nav-item toc-entry">
    <a class="reference internal nav-link" href="#setup">
     Setup
    </a>
   </li>
   <li class="toc-h2 nav-item toc-entry">
    <a class="reference internal nav-link" href="#build">
     Build
    </a>
   </li>
  </ul>
 </li>
 <li class="toc-h1 nav-item toc-entry">
  <a class="reference internal nav-link" href="#using-cmake">
   Using CMake
  </a>
 </li>
 <li class="toc-h1 nav-item toc-entry">
  <a class="reference internal nav-link" href="#legacy-build-scripts">
   Legacy Build Scripts
  </a>
 </li>
 <li class="toc-h1 nav-item toc-entry">
  <a class="reference internal nav-link" href="#tweaking-google-test">
   Tweaking Google Test
  </a>
 </li>
 <li class="toc-h1 nav-item toc-entry">
  <a class="reference internal nav-link" href="#choosing-a-tr1-tuple-library">
   Choosing a TR1 Tuple Library
  </a>
 </li>
 <li class="toc-h1 nav-item toc-entry">
  <a class="reference internal nav-link" href="#multi-threaded-tests">
   Multi-threaded Tests
  </a>
 </li>
 <li class="toc-h1 nav-item toc-entry">
  <a class="reference internal nav-link" href="#as-a-shared-library-dll">
   As a Shared Library (DLL)
  </a>
 </li>
 <li class="toc-h1 nav-item toc-entry">
  <a class="reference internal nav-link" href="#avoiding-macro-name-clashes">
   Avoiding Macro Name Clashes
  </a>
 </li>
 <li class="toc-h1 nav-item toc-entry">
  <a class="reference internal nav-link" href="#developing-google-test">
   Developing Google Test
  </a>
  <ul class="visible nav section-nav flex-column">
   <li class="toc-h2 nav-item toc-entry">
    <a class="reference internal nav-link" href="#testing-google-test-itself">
     Testing Google Test Itself
    </a>
   </li>
  </ul>
 </li>
</ul>

                        </nav>
                    </div>
                </div>
            </div>
            <main id="main-content" role="main">
                
              <div>
                
  <section id="generic-build-instructions">
<h1>Generic Build Instructions<a class="headerlink" href="#generic-build-instructions" title="Permalink to this headline">#</a></h1>
<section id="setup">
<h2>Setup<a class="headerlink" href="#setup" title="Permalink to this headline">#</a></h2>
<p>To build Google Test and your tests that use it, you need to tell your
build system where to find its headers and source files.  The exact
way to do it depends on which build system you use, and is usually
straightforward.</p>
</section>
<section id="build">
<h2>Build<a class="headerlink" href="#build" title="Permalink to this headline">#</a></h2>
<p>Suppose you put Google Test in directory <code class="docutils literal notranslate"><span class="pre">${GTEST_DIR}</span></code>.  To build it,
create a library build target (or a project as called by Visual Studio
and Xcode) to compile</p>
<div class="highlight-none notranslate"><div class="highlight"><pre><span></span>${GTEST_DIR}/src/gtest-all.cc
</pre></div>
</div>
<p>with <code class="docutils literal notranslate"><span class="pre">${GTEST_DIR}/include</span></code> in the system header search path and <code class="docutils literal notranslate"><span class="pre">${GTEST_DIR}</span></code>
in the normal header search path.  Assuming a Linux-like system and gcc,
something like the following will do:</p>
<div class="highlight-none notranslate"><div class="highlight"><pre><span></span>g++ -isystem ${GTEST_DIR}/include -I${GTEST_DIR} \
    -pthread -c ${GTEST_DIR}/src/gtest-all.cc
ar -rv libgtest.a gtest-all.o
</pre></div>
</div>
<p>(We need <code class="docutils literal notranslate"><span class="pre">-pthread</span></code> as Google Test uses threads.)</p>
<p>Next, you should compile your test source file with
<code class="docutils literal notranslate"><span class="pre">${GTEST_DIR}/include</span></code> in the system header search path, and link it
with gtest and any other necessary libraries:</p>
<div class="highlight-none notranslate"><div class="highlight"><pre><span></span>g++ -isystem ${GTEST_DIR}/include -pthread path/to/your_test.cc libgtest.a \
    -o your_test
</pre></div>
</div>
<p>As an example, the make/ directory contains a Makefile that you can
use to build Google Test on systems where GNU make is available
(e.g. Linux, Mac OS X, and Cygwin).  It doesn’t try to build Google
Test’s own tests.  Instead, it just builds the Google Test library and
a sample test.  You can use it as a starting point for your own build
script.</p>
<p>If the default settings are correct for your environment, the
following commands should succeed:</p>
<div class="highlight-none notranslate"><div class="highlight"><pre><span></span>cd ${GTEST_DIR}/make
make
./sample1_unittest
</pre></div>
</div>
<p>If you see errors, try to tweak the contents of <code class="docutils literal notranslate"><span class="pre">make/Makefile</span></code> to make
them go away.  There are instructions in <code class="docutils literal notranslate"><span class="pre">make/Makefile</span></code> on how to do
it.</p>
</section>
</section>
<section id="using-cmake">
<h1>Using CMake<a class="headerlink" href="#using-cmake" title="Permalink to this headline">#</a></h1>
<p>Google Test comes with a CMake build script (
<span class="xref myst">CMakeLists.txt</span>) that can be used on a wide range of platforms (“C” stands for
cross-platform.). If you don’t have CMake installed already, you can
download it for free from <a class="reference external" href="http://www.cmake.org/">http://www.cmake.org/</a>.</p>
<p>CMake works by generating native makefiles or build projects that can
be used in the compiler environment of your choice.  The typical
workflow starts with:</p>
<div class="highlight-none notranslate"><div class="highlight"><pre><span></span>mkdir mybuild       # Create a directory to hold the build output.
cd mybuild
cmake ${GTEST_DIR}  # Generate native build scripts.
</pre></div>
</div>
<p>If you want to build Google Test’s samples, you should replace the
last command with</p>
<div class="highlight-none notranslate"><div class="highlight"><pre><span></span>cmake -Dgtest_build_samples=ON ${GTEST_DIR}
</pre></div>
</div>
<p>If you are on a *nix system, you should now see a Makefile in the
current directory.  Just type ‘make’ to build gtest.</p>
<p>If you use Windows and have Visual Studio installed, a <code class="docutils literal notranslate"><span class="pre">gtest.sln</span></code> file
and several <code class="docutils literal notranslate"><span class="pre">.vcproj</span></code> files will be created.  You can then build them
using Visual Studio.</p>
<p>On Mac OS X with Xcode installed, a <code class="docutils literal notranslate"><span class="pre">.xcodeproj</span></code> file will be generated.</p>
</section>
<section id="legacy-build-scripts">
<h1>Legacy Build Scripts<a class="headerlink" href="#legacy-build-scripts" title="Permalink to this headline">#</a></h1>
<p>Before settling on CMake, we have been providing hand-maintained build
projects/scripts for Visual Studio, Xcode, and Autotools.  While we
continue to provide them for convenience, they are not actively
maintained any more.  We highly recommend that you follow the
instructions in the previous two sections to integrate Google Test
with your existing build system.</p>
<p>If you still need to use the legacy build scripts, here’s how:</p>
<p>The msvc\ folder contains two solutions with Visual C++ projects.
Open the <code class="docutils literal notranslate"><span class="pre">gtest.sln</span></code> or <code class="docutils literal notranslate"><span class="pre">gtest-md.sln</span></code> file using Visual Studio, and you
are ready to build Google Test the same way you build any Visual
Studio project.  Files that have names ending with -md use DLL
versions of Microsoft runtime libraries (the /MD or the /MDd compiler
option).  Files without that suffix use static versions of the runtime
libraries (the /MT or the /MTd option).  Please note that one must use
the same option to compile both gtest and the test code.  If you use
Visual Studio 2005 or above, we recommend the -md version as /MD is
the default for new projects in these versions of Visual Studio.</p>
<p>On Mac OS X, open the <code class="docutils literal notranslate"><span class="pre">gtest.xcodeproj</span></code> in the <code class="docutils literal notranslate"><span class="pre">xcode/</span></code> folder using
Xcode.  Build the “gtest” target.  The universal binary framework will
end up in your selected build directory (selected in the Xcode
“Preferences…” -&gt; “Building” pane and defaults to xcode/build).
Alternatively, at the command line, enter:</p>
<div class="highlight-none notranslate"><div class="highlight"><pre><span></span>xcodebuild
</pre></div>
</div>
<p>This will build the “Release” configuration of gtest.framework in your
default build location.  See the “xcodebuild” man page for more
information about building different configurations and building in
different locations.</p>
<p>If you wish to use the Google Test Xcode project with Xcode 4.x and
above, you need to either:</p>
<ul class="simple">
<li><p>update the SDK configuration options in xcode/Config/General.xconfig.
Comment options <code class="docutils literal notranslate"><span class="pre">SDKROOT</span></code>, <code class="docutils literal notranslate"><span class="pre">MACOS_DEPLOYMENT_TARGET</span></code>, and <code class="docutils literal notranslate"><span class="pre">GCC_VERSION</span></code>. If
you choose this route you lose the ability to target earlier versions
of MacOS X.</p></li>
<li><p>Install an SDK for an earlier version. This doesn’t appear to be
supported by Apple, but has been reported to work
(<a class="reference external" href="http://stackoverflow.com/questions/5378518">http://stackoverflow.com/questions/5378518</a>).</p></li>
</ul>
</section>
<section id="tweaking-google-test">
<h1>Tweaking Google Test<a class="headerlink" href="#tweaking-google-test" title="Permalink to this headline">#</a></h1>
<p>Google Test can be used in diverse environments.  The default
configuration may not work (or may not work well) out of the box in
some environments.  However, you can easily tweak Google Test by
defining control macros on the compiler command line.  Generally,
these macros are named like <code class="docutils literal notranslate"><span class="pre">GTEST_XYZ</span></code> and you define them to either 1
or 0 to enable or disable a certain feature.</p>
<p>We list the most frequently used macros below.  For a complete list,
see file <span class="xref myst">include/gtest/internal/gtest-port.h</span>.</p>
</section>
<section id="choosing-a-tr1-tuple-library">
<h1>Choosing a TR1 Tuple Library<a class="headerlink" href="#choosing-a-tr1-tuple-library" title="Permalink to this headline">#</a></h1>
<p>Some Google Test features require the C++ Technical Report 1 (TR1)
tuple library, which is not yet available with all compilers.  The
good news is that Google Test implements a subset of TR1 tuple that’s
enough for its own need, and will automatically use this when the
compiler doesn’t provide TR1 tuple.</p>
<p>Usually you don’t need to care about which tuple library Google Test
uses.  However, if your project already uses TR1 tuple, you need to
tell Google Test to use the same TR1 tuple library the rest of your
project uses, or the two tuple implementations will clash.  To do
that, add</p>
<div class="highlight-none notranslate"><div class="highlight"><pre><span></span>-DGTEST_USE_OWN_TR1_TUPLE=0
</pre></div>
</div>
<p>to the compiler flags while compiling Google Test and your tests.  If
you want to force Google Test to use its own tuple library, just add</p>
<div class="highlight-none notranslate"><div class="highlight"><pre><span></span>-DGTEST_USE_OWN_TR1_TUPLE=1
</pre></div>
</div>
<p>to the compiler flags instead.</p>
<p>If you don’t want Google Test to use tuple at all, add</p>
<div class="highlight-none notranslate"><div class="highlight"><pre><span></span>-DGTEST_HAS_TR1_TUPLE=0
</pre></div>
</div>
<p>and all features using tuple will be disabled.</p>
</section>
<section id="multi-threaded-tests">
<h1>Multi-threaded Tests<a class="headerlink" href="#multi-threaded-tests" title="Permalink to this headline">#</a></h1>
<p>Google Test is thread-safe where the pthread library is available.
After <code class="docutils literal notranslate"><span class="pre">#include</span> <span class="pre">&quot;gtest/gtest.h&quot;</span></code>, you can check the <code class="docutils literal notranslate"><span class="pre">GTEST_IS_THREADSAFE</span></code>
macro to see whether this is the case (yes if the macro is <code class="docutils literal notranslate"><span class="pre">#defined</span></code> to
1, no if it’s undefined.).</p>
<p>If Google Test doesn’t correctly detect whether pthread is available
in your environment, you can force it with</p>
<div class="highlight-none notranslate"><div class="highlight"><pre><span></span>-DGTEST_HAS_PTHREAD=1
</pre></div>
</div>
<p>or</p>
<div class="highlight-none notranslate"><div class="highlight"><pre><span></span>-DGTEST_HAS_PTHREAD=0
</pre></div>
</div>
<p>When Google Test uses pthread, you may need to add flags to your
compiler and/or linker to select the pthread library, or you’ll get
link errors.  If you use the CMake script or the deprecated Autotools
script, this is taken care of for you.  If you use your own build
script, you’ll need to read your compiler and linker’s manual to
figure out what flags to add.</p>
</section>
<section id="as-a-shared-library-dll">
<h1>As a Shared Library (DLL)<a class="headerlink" href="#as-a-shared-library-dll" title="Permalink to this headline">#</a></h1>
<p>Google Test is compact, so most users can build and link it as a
static library for the simplicity.  You can choose to use Google Test
as a shared library (known as a DLL on Windows) if you prefer.</p>
<p>To compile <em>gtest</em> as a shared library, add</p>
<div class="highlight-none notranslate"><div class="highlight"><pre><span></span>-DGTEST_CREATE_SHARED_LIBRARY=1
</pre></div>
</div>
<p>to the compiler flags.  You’ll also need to tell the linker to produce
a shared library instead - consult your linker’s manual for how to do
it.</p>
<p>To compile your <em>tests</em> that use the gtest shared library, add</p>
<div class="highlight-none notranslate"><div class="highlight"><pre><span></span>-DGTEST_LINKED_AS_SHARED_LIBRARY=1
</pre></div>
</div>
<p>to the compiler flags.</p>
<p>Note: while the above steps aren’t technically necessary today when
using some compilers (e.g. GCC), they may become necessary in the
future, if we decide to improve the speed of loading the library (see
<a class="reference external" href="http://gcc.gnu.org/wiki/Visibility">http://gcc.gnu.org/wiki/Visibility</a> for details).  Therefore you are
recommended to always add the above flags when using Google Test as a
shared library.  Otherwise a future release of Google Test may break
your build script.</p>
</section>
<section id="avoiding-macro-name-clashes">
<h1>Avoiding Macro Name Clashes<a class="headerlink" href="#avoiding-macro-name-clashes" title="Permalink to this headline">#</a></h1>
<p>In C++, macros don’t obey namespaces.  Therefore two libraries that
both define a macro of the same name will clash if you <code class="docutils literal notranslate"><span class="pre">#include</span></code> both
definitions.  In case a Google Test macro clashes with another
library, you can force Google Test to rename its macro to avoid the
conflict.</p>
<p>Specifically, if both Google Test and some other code define macro
FOO, you can add</p>
<div class="highlight-none notranslate"><div class="highlight"><pre><span></span>-DGTEST_DONT_DEFINE_FOO=1
</pre></div>
</div>
<p>to the compiler flags to tell Google Test to change the macro’s name
from <code class="docutils literal notranslate"><span class="pre">FOO</span></code> to <code class="docutils literal notranslate"><span class="pre">GTEST_FOO</span></code>.  Currently <code class="docutils literal notranslate"><span class="pre">FOO</span></code> can be <code class="docutils literal notranslate"><span class="pre">FAIL</span></code>, <code class="docutils literal notranslate"><span class="pre">SUCCEED</span></code>,
or <code class="docutils literal notranslate"><span class="pre">TEST</span></code>.  For example, with <code class="docutils literal notranslate"><span class="pre">-DGTEST_DONT_DEFINE_TEST=1</span></code>, you’ll
need to write</p>
<div class="highlight-none notranslate"><div class="highlight"><pre><span></span>GTEST_TEST(SomeTest, DoesThis) { ... }
</pre></div>
</div>
<p>instead of</p>
<div class="highlight-none notranslate"><div class="highlight"><pre><span></span>TEST(SomeTest, DoesThis) { ... }
</pre></div>
</div>
<p>in order to define a test.</p>
</section>
<section id="developing-google-test">
<h1>Developing Google Test<a class="headerlink" href="#developing-google-test" title="Permalink to this headline">#</a></h1>
<p>This section discusses how to make your own changes to Google Test.</p>
<section id="testing-google-test-itself">
<h2>Testing Google Test Itself<a class="headerlink" href="#testing-google-test-itself" title="Permalink to this headline">#</a></h2>
<p>To make sure your changes work as intended and don’t break existing
functionality, you’ll want to compile and run Google Test’s own tests.
For that you can use CMake:</p>
<div class="highlight-none notranslate"><div class="highlight"><pre><span></span>mkdir mybuild
cd mybuild
cmake -Dgtest_build_tests=ON ${GTEST_DIR}
</pre></div>
</div>
<p>Make sure you have Python installed, as some of Google Test’s tests
are written in Python.  If the cmake command complains about not being
able to find Python (<code class="docutils literal notranslate"><span class="pre">Could</span> <span class="pre">NOT</span> <span class="pre">find</span> <span class="pre">PythonInterp</span> <span class="pre">(missing:</span> <span class="pre">PYTHON_EXECUTABLE)</span></code>), try telling it explicitly where your Python
executable can be found:</p>
<div class="highlight-none notranslate"><div class="highlight"><pre><span></span>cmake -DPYTHON_EXECUTABLE=path/to/python -Dgtest_build_tests=ON ${GTEST_DIR}
</pre></div>
</div>
<p>Next, you can build Google Test and all of its own tests.  On *nix,
this is usually done by ‘make’.  To run the tests, do</p>
<div class="highlight-none notranslate"><div class="highlight"><pre><span></span>make test
</pre></div>
</div>
<p>All tests should pass.</p>
<p>Normally you don’t need to worry about regenerating the source files,
unless you need to modify them.  In that case, you should modify the
corresponding .pump files instead and run the <a class="reference external" href="http://pump.py">pump.py</a> Python script to
regenerate them.  You can find <a class="reference external" href="http://pump.py">pump.py</a> in the <span class="xref myst">scripts/</span> directory.
Read the <span class="xref myst">Pump manual</span> for how to use it.</p>
</section>
</section>

    <script type="text/x-thebe-config">
    {
        requestKernel: true,
        binderOptions: {
            repo: "binder-examples/jupyter-stacks-datascience",
            ref: "master",
        },
        codeMirrorConfig: {
            theme: "abcdef",
            mode: "python"
        },
        kernelOptions: {
            kernelName: "python3",
            path: "./env/lib/python3.9/site-packages/mypyc/external/googletest"
        },
        predefinedOutput: true
    }
    </script>
    <script>kernelName = 'python3'</script>

              </div>
              
            </main>
            <footer class="footer-article noprint">
                
    <!-- Previous / next buttons -->
<div class='prev-next-area'>
</div>
            </footer>
        </div>
    </div>
    <div class="footer-content row">
        <footer class="col footer"><p>
  
    By The Jupyter Book Community<br/>
  
      &copy; Copyright 2022.<br/>
</p>
        </footer>
    </div>
    
</div>


      </div>
    </div>
  
  <!-- Scripts loaded after <body> so the DOM is not blocked -->
  <script src="../../../../../../../_static/scripts/pydata-sphinx-theme.js?digest=1999514e3f237ded88cf"></script>


  </body>
</html>